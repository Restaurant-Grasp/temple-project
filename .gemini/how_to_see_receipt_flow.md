# ğŸ¯ How to See Your Automatic Receipt Update Flow

## ğŸ“ **You Are Here**
Looking at your screenshot, you're on the **Booking List** page:
```
URL: temple2.chinesetemplesystems.xyz/temple1/special-occasions
```

---

## ğŸ”„ **Complete Flow - Step by Step**

### **STEP 1: View Current Booking**
**What you see now:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bookings List                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Booking Code: TEBD2025122900000001                         â”‚
â”‚ Date: 30/12/2025                                            â”‚
â”‚ Devotee: Prithivi                                           â”‚
â”‚ Event: Hungry Ghost Festival                                â”‚
â”‚ Actions: [ğŸ‘ï¸] [ğŸ”„] [ğŸ“„]                                    â”‚
â”‚          View  Relocate Receipt                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Current seat:** (Check by clicking ğŸ‘ï¸ View icon)

---

### **STEP 2: Click Relocation Icon** ğŸ”„

**Action:** Click the ğŸ”„ (relocate) icon for any booking

**What happens:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„ Relocate Booking                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Current Information:                                        â”‚
â”‚  Booking: TEBD2025122900000001                             â”‚
â”‚  Current Seat: A1 (Table 1, R1C1)                          â”‚
â”‚                                                             â”‚
â”‚ New Location:                                               â”‚
â”‚  Table Number:    [Table 2 â–¼]                              â”‚
â”‚  Row Number:      [3        ]                              â”‚
â”‚  Column Number:   [4        ]                              â”‚
â”‚  Seat Number:     [B12      ]                              â”‚
â”‚                                                             â”‚
â”‚ Reason for Change: [Required]                              â”‚
â”‚  [Devotee requested different location]                    â”‚
â”‚                                                             â”‚
â”‚ Change Type:                                                â”‚
â”‚  â¦¿ Manual Relocation                                       â”‚
â”‚  â—‹ Forced (Override existing)                              â”‚
â”‚                                                             â”‚
â”‚ â˜‘ï¸ I confirm this relocation                               â”‚
â”‚                                                             â”‚
â”‚ [Cancel]  [Relocate Booking]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **STEP 3: Fill Relocation Form**

**Fill in:**
1. **New Table:** Select from dropdown (e.g., "Table 2")
2. **Row Number:** Enter number (e.g., 3)
3. **Column Number:** Enter number (e.g., 4)
4. **Seat Number:** Enter seat (e.g., "B12")
5. **Reason:** Type reason (e.g., "Devotee requested")
6. **Check:** âœ… "I confirm this relocation"
7. **Click:** "Relocate Booking" button

---

### **STEP 4: Backend Magic Happens** âœ¨

**Behind the scenes (automatic):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ âœ… Step 1: Validate new seat availability                  â”‚
â”‚ âœ… Step 2: Update booking_meta:                            â”‚
â”‚    - seat_number = "B12"                                    â”‚
â”‚    - table_number = "Table 2"                               â”‚
â”‚    - row_number = 3                                         â”‚
â”‚    - column_number = 4                                      â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 3: Create relocation log                           â”‚
â”‚    - Old seat: A1                                           â”‚
â”‚    - New seat: B12                                          â”‚
â”‚    - Changed by: Your Admin Name                            â”‚
â”‚    - Reason: Devotee requested                              â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 4: Update booking timestamp â† NEW!                 â”‚
â”‚    - booking.updated_at = NOW                               â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 5: Generate QR code â† NEW!                         â”‚
â”‚    - Encrypted booking reference                            â”‚
â”‚    - Base64 encoded                                         â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 6: Prepare seat data â† NEW!                        â”‚
â”‚    {                                                        â”‚
â”‚      "table_number": "Table 2",                             â”‚
â”‚      "row_number": 3,                                       â”‚
â”‚      "column_number": 4,                                    â”‚
â”‚      "seat_number": "B12",                                  â”‚
â”‚      "last_updated": "2026-01-12 20:08:45",                â”‚
â”‚      "updated_by": "Your Admin Name",                       â”‚
â”‚      "relocated": true                                      â”‚
â”‚    }                                                        â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 7: Store in booking_meta â† NEW!                    â”‚
â”‚    - seat_assignment_data (JSON)                            â”‚
â”‚    - qr_code_base64 (text)                                  â”‚
â”‚                                                             â”‚
â”‚ âœ… Step 8: Commit transaction                              â”‚
â”‚                                                             â”‚
â”‚ âœ… SUCCESS! Receipt data auto-updated!                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **STEP 5: See Success Message**

**What you see:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Success!                                                 â”‚
â”‚                                                             â”‚
â”‚ Booking relocated successfully                              â”‚
â”‚                                                             â”‚
â”‚ Old Seat: A1 (Table 1)                                      â”‚
â”‚ New Seat: B12 (Table 2)                                     â”‚
â”‚                                                             â”‚
â”‚ [OK]                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**The booking list refreshes automatically**

---

### **STEP 6: View Updated Receipt** ğŸ“„

**Action:** Click the ğŸ“„ (receipt) icon for the same booking

**What you'll see in the PDF:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BOOKING RECEIPT                          â”‚
â”‚                                                             â”‚
â”‚ Booking Number: TEBD2025122900000001                       â”‚
â”‚ Date: 30/12/2025                                            â”‚
â”‚ Devotee: Prithivi                                           â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Seat Assignment [RELOCATED] â† NEW BADGE!                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Table: Table 2                                              â”‚
â”‚ Position: Row 3, Column 4                                   â”‚
â”‚ Seat Number: B12  â† UPDATED!                               â”‚
â”‚                                                             â”‚
â”‚ â±ï¸ Last Updated: 12 January 2026, 08:08 PM                â”‚
â”‚    by Your Admin Name                                       â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Scan to Verify Booking â† NEW SECTION!                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚              [QR CODE IMAGE]                                â”‚
â”‚                                                             â”‚
â”‚ Scan this QR code to view current booking                  â”‚
â”‚ details and seat assignment.                                â”‚
â”‚ The QR code always shows the latest                         â”‚
â”‚ information, even after relocations.                        â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Booking Items                                               â”‚
â”‚ ...                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Generated on: 12 January 2026, 08:00 PM                    â”‚
â”‚ Receipt last updated: 12 January 2026, 08:08 PM â† NEW!    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **STEP 7: Scan QR Code** ğŸ“±

**Action:** Use your phone to scan the QR code from the receipt

**Option 1: Use QR Scanner Page**
1. Go to: `temple2.chinesetemplesystems.xyz/temple1/qr-scanner.html`
2. Click "Start Scanner"
3. Point camera at QR code
4. See live booking data!

**Option 2: Use any QR scanner app**
1. Open QR scanner on phone
2. Scan the QR code
3. Copy the encrypted data
4. Go to QR Scanner page
5. Paste in "Manual Verification"
6. Click "Verify"

**What you'll see:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Valid Booking                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Booking Number:  TEBD2025122900000001                      â”‚
â”‚ Status:          âœ… Confirmed                               â”‚
â”‚ Devotee:         Prithivi                                   â”‚
â”‚ Event:           Hungry Ghost Festival                      â”‚
â”‚ Current Seat:    Table: Table 2 | R3C4 | B12 â† LIVE DATA! â”‚
â”‚ Last Updated:    12/01/2026 20:08 PM                       â”‚
â”‚ Verified At:     12/01/2026 20:10 PM                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notice:** The QR shows the NEW seat (B12), not the old seat (A1)!

---

## ğŸ¬ **Quick Test Flow**

### **5-Minute Test:**

1. **Pick a booking** from your list (e.g., TEBD2025122900000001)

2. **Note current seat** (click ğŸ‘ï¸ view icon)

3. **Click ğŸ”„ relocate icon**

4. **Fill form:**
   - New Table: Table 2
   - Row: 3
   - Column: 4
   - Seat: B12
   - Reason: "Testing automatic receipt update"
   - âœ… Confirm

5. **Click "Relocate Booking"**

6. **Wait for success message**

7. **Click ğŸ“„ receipt icon**

8. **Check PDF for:**
   - âœ… "RELOCATED" badge
   - âœ… New seat: B12
   - âœ… Last updated timestamp
   - âœ… Your admin name
   - âœ… QR code image
   - âœ… "Receipt last updated" in footer

9. **Scan QR code** (optional)
   - Should show seat B12
   - Should show latest timestamp

10. **Done!** âœ…

---

## ğŸ“Š **What to Look For**

### **In the Receipt PDF:**

âœ… **Seat Assignment Section** (new!)
- Yellow/orange background
- Shows table, row, column, seat
- "RELOCATED" badge
- Last updated timestamp
- Admin name

âœ… **QR Code Section** (new!)
- Centered QR code image
- Scan instructions
- Dashed border

âœ… **Footer Timestamp** (new!)
- "Receipt last updated: ..."
- Different from "Generated on"

---

## ğŸ” **Verification Checklist**

After relocating a booking, verify:

- [ ] Booking list shows new seat
- [ ] Receipt shows "RELOCATED" badge
- [ ] Receipt shows new seat number
- [ ] Receipt shows last updated time
- [ ] Receipt shows your admin name
- [ ] QR code appears in receipt
- [ ] QR code scans successfully
- [ ] Scanned QR shows new seat (not old)
- [ ] Footer shows "Receipt last updated"
- [ ] Timestamp matches relocation time

---

## ğŸ¯ **Where to See Each Part**

| Feature | Where to See It |
|---------|-----------------|
| **Relocation Form** | Click ğŸ”„ icon in booking list |
| **Updated Seat** | Receipt PDF, seat section |
| **RELOCATED Badge** | Receipt PDF, seat header |
| **Last Updated Time** | Receipt PDF, seat section & footer |
| **Admin Name** | Receipt PDF, seat section |
| **QR Code** | Receipt PDF, QR section |
| **Live Seat Data** | Scan QR â†’ Verification page |

---

## ğŸš€ **Try It Now!**

**From your current page:**

1. Click ğŸ”„ on the first booking (TEBD2025122900000001)
2. Change seat to something different
3. Submit
4. Click ğŸ“„ to view receipt
5. See all the new features! âœ¨

---

## ğŸ“± **Mobile View**

The flow works the same on mobile:
- Relocation form is responsive
- Receipt PDF displays correctly
- QR scanner works with phone camera

---

## ğŸ’¡ **Pro Tips**

1. **Test with different seats** to see updates
2. **Relocate same booking twice** to see timestamp change
3. **Compare old vs new receipts** to see differences
4. **Scan QR after each relocation** to verify live data
5. **Check relocation report** to see history

---

## ğŸ‰ **Summary**

**The flow is:**
```
Relocate â†’ Auto-update â†’ View Receipt â†’ Scan QR â†’ Verify Live Data
```

**Everything happens automatically!**
- No manual receipt regeneration
- No manual QR code creation
- No manual data entry

**Just relocate and the receipt updates itself!** âœ¨

---

**Ready to test? Start from your current page and click any ğŸ”„ icon!** ğŸš€
